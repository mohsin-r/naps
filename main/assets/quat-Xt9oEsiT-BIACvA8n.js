import{n as v}from"./mat3f64-Dh9_zhFu-BIT-k8Dm.js";import{e as I}from"./quatf64-C16JxGFv-BKWK1F8U.js";import{gO as b,gP as z,e3 as D,gQ as E,gR as L,gS as X,gT as Y,gU as C,gV as N,gW as R,gX as U,gY as W,cJ as Z,cM as y,gZ as k,cO as w,cB as B,g_ as x,g$ as J}from"./main-BJW1_IOd.js";function V(s){return s[0]=0,s[1]=0,s[2]=0,s[3]=1,s}function A(s,a,r){r*=.5;const t=Math.sin(r);return s[0]=t*a[0],s[1]=t*a[1],s[2]=t*a[2],s[3]=Math.cos(r),s}function $(s,a){const r=2*Math.acos(a[3]),t=Math.sin(r/2);return t>b()?(s[0]=a[0]/t,s[1]=a[1]/t,s[2]=a[2]/t):(s[0]=1,s[1]=0,s[2]=0),r}function O(s,a,r){const t=a[0],o=a[1],c=a[2],u=a[3],e=r[0],i=r[1],n=r[2],h=r[3];return s[0]=t*h+u*e+o*n-c*i,s[1]=o*h+u*i+c*e-t*n,s[2]=c*h+u*n+t*i-o*e,s[3]=u*h-t*e-o*i-c*n,s}function F(s,a,r){r*=.5;const t=a[0],o=a[1],c=a[2],u=a[3],e=Math.sin(r),i=Math.cos(r);return s[0]=t*i+u*e,s[1]=o*i+c*e,s[2]=c*i-o*e,s[3]=u*i-t*e,s}function G(s,a,r){r*=.5;const t=a[0],o=a[1],c=a[2],u=a[3],e=Math.sin(r),i=Math.cos(r);return s[0]=t*i-c*e,s[1]=o*i+u*e,s[2]=c*i+t*e,s[3]=u*i-o*e,s}function H(s,a,r){r*=.5;const t=a[0],o=a[1],c=a[2],u=a[3],e=Math.sin(r),i=Math.cos(r);return s[0]=t*i+o*e,s[1]=o*i-t*e,s[2]=c*i+u*e,s[3]=u*i-c*e,s}function K(s,a){const r=a[0],t=a[1],o=a[2];return s[0]=r,s[1]=t,s[2]=o,s[3]=Math.sqrt(Math.abs(1-r*r-t*t-o*o)),s}function d(s,a,r,t){const o=a[0],c=a[1],u=a[2],e=a[3];let i,n,h,f,l,g=r[0],m=r[1],p=r[2],q=r[3];return n=o*g+c*m+u*p+e*q,n<0&&(n=-n,g=-g,m=-m,p=-p,q=-q),1-n>b()?(i=Math.acos(n),h=Math.sin(i),f=Math.sin((1-t)*i)/h,l=Math.sin(t*i)/h):(f=1-t,l=t),s[0]=f*o+l*g,s[1]=f*c+l*m,s[2]=f*u+l*p,s[3]=f*e+l*q,s}function ss(s){const a=J,r=a(),t=a(),o=a(),c=Math.sqrt(1-r),u=Math.sqrt(r);return s[0]=c*Math.sin(2*Math.PI*t),s[1]=c*Math.cos(2*Math.PI*t),s[2]=u*Math.sin(2*Math.PI*o),s[3]=u*Math.cos(2*Math.PI*o),s}function as(s,a){const r=a[0],t=a[1],o=a[2],c=a[3],u=r*r+t*t+o*o+c*c,e=u?1/u:0;return s[0]=-r*e,s[1]=-t*e,s[2]=-o*e,s[3]=c*e,s}function ts(s,a){return s[0]=-a[0],s[1]=-a[1],s[2]=-a[2],s[3]=a[3],s}function S(s,a){const r=a[0]+a[4]+a[8];let t;if(r>0)t=Math.sqrt(r+1),s[3]=.5*t,t=.5/t,s[0]=(a[5]-a[7])*t,s[1]=(a[6]-a[2])*t,s[2]=(a[1]-a[3])*t;else{let o=0;a[4]>a[0]&&(o=1),a[8]>a[3*o+o]&&(o=2);const c=(o+1)%3,u=(o+2)%3;t=Math.sqrt(a[3*o+o]-a[3*c+c]-a[3*u+u]+1),s[o]=.5*t,t=.5/t,s[3]=(a[3*c+u]-a[3*u+c])*t,s[c]=(a[3*c+o]+a[3*o+c])*t,s[u]=(a[3*u+o]+a[3*o+u])*t}return s}function os(s,a,r,t){const o=.5*Math.PI/180;a*=o,r*=o,t*=o;const c=Math.sin(a),u=Math.cos(a),e=Math.sin(r),i=Math.cos(r),n=Math.sin(t),h=Math.cos(t);return s[0]=c*i*h-u*e*n,s[1]=u*e*h+c*i*n,s[2]=u*i*n-c*e*h,s[3]=u*i*h+c*e*n,s}function rs(s){return"quat("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+")"}const cs=z,us=D,es=E,is=O,ns=L,hs=X,Ms=Y,T=C,fs=T,j=N,ls=j,P=R,gs=U,ms=W;function ps(s,a,r){const t=Z(a,r);return t<-.999999?(y(M,qs,a),k(M)<1e-6&&y(M,ds,a),w(M,M),A(s,M,Math.PI),s):t>.999999?(s[0]=0,s[1]=0,s[2]=0,s[3]=1,s):(y(M,a,r),s[0]=M[0],s[1]=M[1],s[2]=M[2],s[3]=1+t,P(s,s))}const M=B(),qs=x(1,0,0),ds=x(0,1,0);function ys(s,a,r,t,o,c){return d(Q,a,o,c),d(_,r,t,c),d(s,Q,_,2*c*(1-c)),s}const Q=I(),_=I();function Ps(s,a,r,t){const o=Qs;return o[0]=r[0],o[3]=r[1],o[6]=r[2],o[1]=t[0],o[4]=t[1],o[7]=t[2],o[2]=-a[0],o[5]=-a[1],o[8]=-a[2],P(s,S(s,o))}const Qs=v();Object.freeze(Object.defineProperty({__proto__:null,add:es,calculateW:K,conjugate:ts,copy:cs,dot:hs,equals:ms,exactEquals:gs,fromEuler:os,fromMat3:S,getAxisAngle:$,identity:V,invert:as,len:fs,length:T,lerp:Ms,mul:is,multiply:O,normalize:P,random:ss,rotateX:F,rotateY:G,rotateZ:H,rotationTo:ps,scale:ns,set:us,setAxes:Ps,setAxisAngle:A,slerp:d,sqlerp:ys,sqrLen:ls,squaredLength:j,str:rs},Symbol.toStringTag,{value:"Module"}));export{ts as L,os as T,gs as X,$ as _,A as b,ps as k,as as v,O as y,us as z};
